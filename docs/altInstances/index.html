<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Alt Instances</title>
  <meta name="description" content="A library for managing data within JavaScript applications. Alt is a pure flux implementation that is small, terse, well tested, extremely flexible, and forward thinking.
">

  <link rel="canonical" href="https://goatslacker.github.io/alt/docs/altInstances/">
  <link rel="alternate" type="application/rss+xml" title="Alt" href="https://goatslacker.github.io/alt/feed.xml" />

  <link type="text/css" rel="stylesheet" href="/alt/assets/bootstrap-navbar.css" />
  <link type="text/css" rel="stylesheet" href="/alt/assets/lotus.min.css" />
  <link type="text/css" rel="stylesheet" href="/alt/assets/prism.min.css" />
  <link type="text/css" rel="stylesheet" href="/alt/assets/styles.css" />
</head>


  <body>

    
<nav class="navbar navbar-default sp-horiz-lg">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/alt/"><img src="/alt/assets/alt.png" alt="Alt" width="40" /></a>
    </div>

    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav navbar-right">
        <li>
          <a href="/alt/guide/">Getting Started</a>
        </li>
        <li class="dropdown">
          <a href='#' class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">API Documentation <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li>
              <a href="/alt/docs/">Welcome</a>
            </li>
            
            <li>
              <a href="/alt/docs/createActions">Creating Actions</a>
            </li>
            
            <li>
              <a href="/alt/docs/actions">Actions</a>
            </li>
            
            <li>
              <a href="/alt/docs/createStore">Creating Stores</a>
            </li>
            
            <li>
              <a href="/alt/docs/stores">Stores</a>
            </li>
            
            <li>
              <a href="/alt/docs/lifecycleListeners">Lifecycle Listeners</a>
            </li>
            
            <li>
              <a href="/alt/docs/bootstrap">Bootstrap</a>
            </li>
            
            <li>
              <a href="/alt/docs/takeSnapshot">Take Snapshot</a>
            </li>
            
            <li>
              <a href="/alt/docs/flush">Flush</a>
            </li>
            
            <li>
              <a href="/alt/docs/recycle">Recycle</a>
            </li>
            
            <li>
              <a href="/alt/docs/rollback">Rollback</a>
            </li>
            
            <li>
              <a href="/alt/docs/altInstances">Alt Instances</a>
            </li>
            
            <li>
              <a href="/alt/docs/components/altContainer">AltContainer</a>
            </li>
            
          </ul>
        </li>
        <li>
          <a href="/alt/blog/">Blog</a>
        </li>
        <li>
          <a href="https://gitter.im/goatslacker/alt">Support</a>
        </li>
        <li>
          <a href="https://github.com/goatslacker/alt">GitHub</a>
        </li>
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>

    <div class="main sp-vert-md sp-horiz-lg">
      <div class="row">
        <div class="col c2">
          <ul class="sidenav">
  
  <li>
    <a href="/alt/docs/createActions">Creating Actions</a>
  </li>
  
  <li>
    <a href="/alt/docs/actions">Actions</a>
  </li>
  
  <li>
    <a href="/alt/docs/createStore">Creating Stores</a>
  </li>
  
  <li>
    <a href="/alt/docs/stores">Stores</a>
  </li>
  
  <li>
    <a href="/alt/docs/lifecycleListeners">Lifecycle Listeners</a>
  </li>
  
  <li>
    <a href="/alt/docs/bootstrap">Bootstrap</a>
  </li>
  
  <li>
    <a href="/alt/docs/takeSnapshot">Take Snapshot</a>
  </li>
  
  <li>
    <a href="/alt/docs/flush">Flush</a>
  </li>
  
  <li>
    <a href="/alt/docs/recycle">Recycle</a>
  </li>
  
  <li>
    <a href="/alt/docs/rollback">Rollback</a>
  </li>
  
  <li>
    <a href="/alt/docs/altInstances">Alt Instances</a>
  </li>
  
  <li>
    <a href="/alt/docs/components/altContainer">AltContainer</a>
  </li>
  
</ul>

        </div>
        <div class="col c10">
          <div class="sp-horiz-md">
            <h1 id="creating-instances-of-your-flux">Creating instances of your Flux</h1>

<p>If using a singleton is scary to you, or if you believe dependency injection is the way to go then this is the feature for you. You don’t have to settle for traditional flux and its singleton stores. You can create separate instances of the Alt universe and then inject these into your view via dependency injection or if you’re using React, contexts. With this approach you get isomorphism for free, without having to worry about flushing your stores, since each request will generate its own instance.</p>

<p>Using instances of alt is fairly straightforward.</p>

<pre><code class="language-js">class MyAlt extends Alt {
  constructor(config = {}) {
    super(config);

    this.addActions('myActions', ActionCreators);
    this.addStore('storeName', Store);
  }
}

var flux = new MyAlt();
</code></pre>

<h1 id="altclass">AltClass</h1>

<h2 id="altclassconstructor">AltClass#constructor</h2>

<blockquote>
  <p>constructor(config: object) : Alt</p>
</blockquote>

<p>The alt constructor takes an optional configuration object. This is where you can configure your alt instance.</p>

<pre><code class="language-js">var flux = new Alt({
  dispatcher: new MyDispatcher()
});
</code></pre>

<h3 id="config-object">Config Object</h3>

<p>The following properties can be defined on the config object:</p>

<h4 id="dispatcher">dispatcher</h4>

<p>By default alt uses Facebook’s Flux <a href="https://github.com/facebook/flux/blob/master/src/Dispatcher.js">dispatcher</a>, but you can provide your own dispatcher implementation for alt to use. Your dispatcher must have a similar interface to the Facebook dispatcher including, <code>waitFor</code>, <code>register</code>, and <code>dispatch</code>.</p>

<p>One easy way to provide your own dispatcher is to extend the Facebook dispatcher. The following example shows a dispatcher that extends Facebook’s dispatcher, but modifies it such that all dispatched payloads are logged to the console and <code>register</code> has a custom implementation.</p>

<pre><code class="language-js">class MyDispatcher extends Dispatcher {
  constructor() {
    super();
  }

  dispatch(payload) {
    console.log(payload);
    super.dispatch(payload);
  }

  register(callback) {
    // custom register implementation
  }
}
</code></pre>

<h4 id="serialize">serialize</h4>

<p>This controls how store data is serialized in snapshots. By default alt uses <code>JSON.stringify</code>, but you can provide your own function to serialize data.</p>

<h4 id="deserialize">deserialize</h4>

<p>This controls how store data is deserialized from snapshot/bootstrap data. By default alt uses <code>JSON.parse</code>, but you can provide your own function to deserialize data.</p>

<h2 id="altclassaddactions">AltClass#addActions</h2>

<blockquote>
  <p>addActions(actionsName: string, actions: <a href="/alt/docs/createActions">ActionsClass</a>): undefined</p>
</blockquote>

<p>Creates the actions for this instance.</p>

<h2 id="altclassaddstore">AltClass#addStore</h2>

<blockquote>
  <p>addStore(name: string, store: <a href="/alt/docs/createStore">StoreModel</a>): undefined</p>
</blockquote>

<p>Creates the store for this instance.</p>

<h2 id="altclassgetactions">AltClass#getActions</h2>

<blockquote>
  <p>getActions(): <a href="/alt/docs/actions">Actions</a></p>
</blockquote>

<p>Retrieves the created actions. This becomes useful when you need to bind the actions in the store.</p>

<pre><code class="language-js">class MyStore {
  constructor() {
    this.bindActions(this.alt.getActions('myActions'));
  }
}
</code></pre>

<h2 id="altclassgetstore">AltClass#getStore</h2>

<blockquote>
  <p>getStore(): <a href="/alt/docs/stores">AltStore</a></p>
</blockquote>

<p>Retrieves the store instance that was created.</p>

<pre><code class="language-js">var state = alt.getStore('myStore').getState();
</code></pre>

          </div>
        </div>
      </div>
    </div>

    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/prism/0.0.1/prism.min.js"></script>
<script type="text/javascript">
  // Alias for javascript so syntax highlighting works fine
  Prism.languages.js = Prism.languages.javascript;
</script>
<script type="text/javascript" src="https://code.jquery.com/jquery-1.11.2.min.js" ></script>
<script type="text/javascript" src="/alt/assets/bootstrap-navbar.min.js"></script>

<footer class="sp-vert-md">
  <a href="https://www.npmjs.com/package/alt"><img src="https://img.shields.io/npm/v/alt.png?style=flat-square" alt="npm version" /></a>
  <a href="https://gitter.im/goatslacker/alt"><img src="https://img.shields.io/badge/gitter-join%20chat-ff7d29.svg?style=flat-square" alt="Gitter Chat" /></a>
</footer>


  </body>

</html>
