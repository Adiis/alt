!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Alt=e():t.Alt=e()}(self,(function(){return(()=>{var t={81:t=>{"use strict";t.exports=function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!t){var o;if(void 0===e)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;(o=new Error(e.replace(/%s/g,(function(){return String(r[a++])})))).name="Invariant Violation"}throw o.framesToPop=1,o}}},278:(t,e,n)=>{t.exports.Dispatcher=n(631)},631:(t,e,n)=>{"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=n(81),o=function(){function t(){r(this,"_callbacks",void 0),r(this,"_isDispatching",void 0),r(this,"_isHandled",void 0),r(this,"_isPending",void 0),r(this,"_lastID",void 0),r(this,"_pendingPayload",void 0),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}var e=t.prototype;return e.register=function(t){var e="ID_"+this._lastID++;return this._callbacks[e]=t,e},e.unregister=function(t){this._callbacks[t]||i(!1),delete this._callbacks[t]},e.waitFor=function(t){this._isDispatching||i(!1);for(var e=0;e<t.length;e++){var n=t[e];this._isPending[n]?this._isHandled[n]||i(!1):(this._callbacks[n]||i(!1),this._invokeCallback(n))}},e.dispatch=function(t){this._isDispatching&&i(!1),this._startDispatching(t);try{for(var e in this._callbacks)this._isPending[e]||this._invokeCallback(e)}finally{this._stopDispatching()}},e.isDispatching=function(){return this._isDispatching},e._invokeCallback=function(t){this._isPending[t]=!0,this._callbacks[t](this._pendingPayload),this._isHandled[t]=!0},e._startDispatching=function(t){for(var e in this._callbacks)this._isPending[e]=!1,this._isHandled[e]=!1;this._pendingPayload=t,this._isDispatching=!0},e._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},t}();t.exports=o},805:t=>{"use strict";t.exports=function(){var t=[],e=!1,n={},r=function(r){var i=t.indexOf(r);i<0||(e?n[i]=r:t.splice(i,1))};return{publish:function(){for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];e=!0;try{t.forEach((function(t,e){return n[e]||t.apply(void 0,o)}))}finally{e=!1,Object.keys(n).forEach((function(t){return r(n[t])})),n={}}},subscribe:function(e){return t.push(e),{dispose:function(){return r(e)}}},$subscriptions:t}}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};return(()=>{"use strict";n.r(r),n.d(r,{default:()=>Q});var t={};function e(t,n){return e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(t,n)}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function o(t,n,r){return o=i()?Reflect.construct:function(t,n,r){var i=[null];i.push.apply(i,n);var o=new(Function.bind.apply(t,i));return r&&e(o,r.prototype),o},o.apply(null,arguments)}function a(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),n&&e(t,n)}function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function s(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}n.r(t),n.d(t,{createStoreConfig:()=>J,createStoreFromClass:()=>Z,createStoreFromObject:()=>Y,transformStore:()=>V});var p=n(278),d=function(t){return"function"==typeof t};function y(t){var e=t.constructor;return!!t&&"[object Object]"===Object.prototype.toString.call(t)&&d(e)&&!Object.isFrozen(t)&&(e instanceof e||"AltStore"===t.type)}function v(t,e){e.forEach((function(e){Object.keys(Object(e)).forEach((function(n){t(n,e[n])}))}))}function b(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return v((function(e,n){return t[e]=n}),n),t}function g(t,e,n){var r=t.deserialize(e);v((function(e,i){var o=t.stores[e];if(o){var a=o.StoreModel.config,c=o.state;a.onDeserialize&&(r[e]=a.onDeserialize(i)||i),y(c)?(v((function(t){return delete c[t]}),[c]),b(c,r[e])):o.state=r[e],n(o,o.state)}}),[r])}function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.length?e:Object.keys(t.stores);return n.reduce((function(e,n){var r=n.displayName||n,i=t.stores[r],o=i.StoreModel.config;i.lifecycle("snapshot");var a=o.onSerialize&&o.onSerialize(i.state);return e[r]=a||i.getState(),e}),{})}function m(t,e){var n=t.deserialize(t.serialize(t.stores[e].state));t._initSnapshot[e]=n,t._lastSnapshot[e]=n}function O(t,e,n){return n.reduce((function(t,n){var r=n.displayName||n;if(!e[r])throw new ReferenceError("".concat(r," is not a valid store"));return t[r]=e[r],t}),{})}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach((function(e){_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var k=Object.getOwnPropertyNames(M),j=Object.getOwnPropertyNames(M.prototype);function P(t,e){var n=e?j:k,r=e?t.prototype:t;return Object.getOwnPropertyNames(r).reduce((function(t,e){return-1!==n.indexOf(e)||(t[e]=r[e]),t}),{})}function E(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t===Function.prototype?e:E(Object.getPrototypeOf(t),b(P(t,!0),e))}function D(t){"undefined"!=typeof console&&console.warn(new ReferenceError(t))}function x(t,e){for(var n=0,r=e;Object.hasOwnProperty.call(t,r);)r=e+String(++n);return r}function R(t){return t.replace(/[a-z]([A-Z])/g,(function(t){return"".concat(t[0],"_").concat(t[1].toLowerCase())})).toUpperCase()}function C(t){if(void 0===t)return null;for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.length?[t].concat(n):t}function L(t,e,n,r){return{type:e,payload:n,meta:A({dispatchId:t},r),id:t,action:e,data:n,details:r}}function M(){}var z=n(805),N=n.n(z);const T=function(){function t(e,n,r,i){var o=this;f(this,t);var a=n.lifecycleEvents;this.transmitter=N()(),this.lifecycle=function(t,e){a[t]&&a[t].publish(e)},this.state=r,this.alt=e,this.preventDefault=!1,this.displayName=n.displayName,this.boundListeners=n.boundListeners,this.StoreModel=i,this.reduce=n.reduce||function(t){return t},this.subscriptions=[];var c=n.output||function(t){return t};this.emitChange=function(){return o.transmitter.publish(c(o.state))};var s=function(t,e){try{return t()}catch(t){if(n.handlesOwnErrors)return o.lifecycle("error",{error:t,payload:e,state:o.state}),!1;throw t}};b(this,n.publicMethods),this.dispatchToken=e.dispatcher.register((function(t){o.preventDefault=!1,o.lifecycle("beforeEach",{payload:t,state:o.state});var e=n.actionListeners[t.action];(e||n.otherwise)&&(!1===s(e?function(){return e.filter(Boolean).every((function(e){return!1!==e.call(n,t.data,t.action)}))}:function(){return n.otherwise(t.data,t.action)},t)||o.preventDefault||o.emitChange()),n.reduce&&(s((function(){var e=n.reduce(o.state,t);void 0!==e&&(o.state=e)}),t),o.preventDefault||o.emitChange()),o.lifecycle("afterEach",{payload:t,state:o.state})})),this.lifecycle("init")}return h(t,[{key:"listen",value:function(t){var e=this;if(!d(t))throw new TypeError("listen expects a function");var n=this.transmitter.subscribe(t).dispose;return this.subscriptions.push({cb:t,dispose:n}),function(){e.lifecycle("unlisten"),n()}}},{key:"unlisten",value:function(t){this.lifecycle("unlisten"),this.subscriptions=this.subscriptions.filter((function(e){return e.cb!==t||(e.dispose(),!1)}))}},{key:"getState",value:function(){return this.StoreModel.config.getState.call(this,this.state)}}]),t}();var F={waitFor:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!e.length)throw new ReferenceError("Dispatch tokens not provided");var r=e;1===e.length&&(r=Array.isArray(e[0])?e[0]:e);var i=r.map((function(t){return t.dispatchToken||t}));this.dispatcher.waitFor(i)},exportAsync:function(t){this.registerAsync(t)},registerAsync:function(t){var e=this,n=0,r=d(t)?t(this.alt):t,i=Object.keys(r).reduce((function(t,i){var o=r[i],a=d(o)?o(e):o;return["success","error","loading"].forEach((function(t){if(a[t]&&!a[t].id)throw new Error("".concat(t," handler must be an action function"))})),t[i]=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var o=e.getInstance().getState(),c=a.local&&a.local.apply(a,[o].concat(r)),s=a.shouldFetch?a.shouldFetch.apply(a,[o].concat(r)):null==c,u=a.interceptResponse||function(t){return t},f=function(t,i){return function(o){var a=function(){if(n-=1,t(u(o,t,r)),i)throw o;return o};return e.alt.trapAsync?function(){return a()}:a()}};return s?(n+=1,a.loading&&a.loading(u(null,a.loading,r)),a.remote.apply(a,[o].concat(r)).then(f(a.success),f(a.error,1))):(e.emitChange(),c)},t}),{});this.exportPublicMethods(i),this.exportPublicMethods({isLoading:function(){return n>0}})},exportPublicMethods:function(t){var e=this;v((function(t,n){if(!d(n))throw new TypeError("exportPublicMethods expects a function");e.publicMethods[t]=n}),[t])},emitChange:function(){this.getInstance().emitChange()},on:function(t,e){"error"===t&&(this.handlesOwnErrors=!0);var n=this.lifecycleEvents[t]||N()();return this.lifecycleEvents[t]=n,n.subscribe(e.bind(this))},bindAction:function(t,e){if(!t)throw new ReferenceError("Invalid action reference passed in");if(!d(e))throw new TypeError("bindAction expects a function");var n=t.id?t.id:t;this.actionListeners[n]=this.actionListeners[n]||[],this.actionListeners[n].push(e.bind(this)),this.boundListeners.push(n)},bindActions:function(t){var e=this;v((function(t,n){var r=t.replace(/./,(function(t){return"on".concat(t[0].toUpperCase())}));if(e[t]&&e[r])throw new ReferenceError("You have multiple action handlers bound to an action: "+"".concat(t," and ").concat(r));var i=e[t]||e[r];i&&e.bindAction(n,i)}),[t])},bindListeners:function(t){var e=this;v((function(t,n){var r=e[t];if(!r)throw new ReferenceError("".concat(t," defined but does not exist in ").concat(e.displayName));Array.isArray(n)?n.forEach((function(t){e.bindAction(t,r)})):e.bindAction(n,r)}),[t])}};const I=F;function B(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function H(t,e,n){if(n){var r=e.StoreModel.config,i=d(n)?n(e.state):n;e.state=r.setState.call(t,e.state,i),t.alt.dispatcher.isDispatching()||t.emitChange()}}function U(t,e,n,r){return b(t,I,{displayName:n,alt:e,dispatcher:e.dispatcher,preventDefault:function(){this.getInstance().preventDefault=!0},boundListeners:[],lifecycleEvents:{},actionListeners:{},publicMethods:{},handlesOwnErrors:!1},r)}function J(t,e){e.config=b({getState:function(t){return Array.isArray(t)?t.slice():y(t)?b({},t):t},setState:function(t,e){return y(e)?b(t,e):e}},t,e.config)}function V(t,e){return t.reduce((function(t,e){return e(t)}),e)}function Y(t,e,n){var r,i=U({},t,n,b({getInstance:function(){return r},setState:function(t){H(this,r,t)}},e));return i.bindListeners&&I.bindListeners.call(i,i.bindListeners),i.observe&&I.bindListeners.call(i,i.observe(t)),i.lifecycle&&v((function(t,e){I.on.call(i,t,e)}),[i.lifecycle]),r=b(new T(t,i,void 0!==i.state?i.state:{},e),i.publicMethods,{displayName:n,config:e.config})}function Z(t,e,n){var r,i=e.config,c=function(t){a(n,t);var e=B(n);function n(){f(this,n);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.call.apply(e,[this].concat(r))}return h(n)}(e);U(c.prototype,t,n,{type:"AltStore",getInstance:function(){return r},setState:function(t){H(this,r,t)}});for(var s=arguments.length,u=new Array(s>3?s-3:0),l=3;l<s;l++)u[l-3]=arguments[l];var p=o(c,u);return i.bindListeners&&p.bindListeners(i.bindListeners),i.datasource&&p.registerAsync(i.datasource),r=b(new T(t,p,void 0!==p.state?p.state:p,e),P(e),i.publicMethods,{displayName:n})}function $(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then}function q(t,e,n,r,i){var o=x(t._actionsRegistry,"".concat(e,".").concat(n));t._actionsRegistry[o]=1;var a={id:o,namespace:e,name:n},c=function(e){return t.dispatch(o,e,a)},s=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var a=r.apply(i,n),s=a;return void 0===a||$(a)||(d(a)?s=a(c,t):c(a)),void 0===a&&D("An action was called but nothing was dispatched"),s};s.defer=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return setTimeout((function(){return s.apply(null,e)}))},s.id=o,s.data=a;var u=t.actions[e],f=x(u,n);return u[f]=s,u[R(f)]=o,s}function G(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}var K=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f(this,e),this.config=t,this.serialize=t.serialize||JSON.stringify,this.deserialize=t.deserialize||JSON.parse,this.dispatcher=t.dispatcher||new p.Dispatcher,this.batchingFunction=t.batchingFunction||function(t){return t()},this.actions={global:{}},this.stores={},this.storeTransforms=t.storeTransforms||[],this.trapAsync=!1,this._actionsRegistry={},this._initSnapshot={},this._lastSnapshot={}}return h(e,[{key:"dispatch",value:function(t,e,n){var r=this;this.batchingFunction((function(){var i=Math.random().toString(18).substr(2,16);if(t.hasOwnProperty("type")&&t.hasOwnProperty("payload")){var o={id:t.type,namespace:t.type,name:t.type};return r.dispatcher.dispatch(L(i,t.type,t.payload,o))}return t.id&&t.dispatch?function(t,e,n,r){var i=e.dispatch(n);if(void 0===i)return null;var o=e.id,a={id:o,namespace:o,name:o};return d(i)?i((function(t){return r.dispatch(o,t,a)}),r):r.dispatcher.dispatch(L(t,o,i,a))}(i,t,e,r):r.dispatcher.dispatch(L(i,t,e,n))}))}},{key:"createUnsavedStore",value:function(e){var n=e.displayName||"";J(this.config,e);for(var r=V(this.storeTransforms,e),i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return d(r)?Z.apply(t,[this,r,n].concat(o)):Y(this,r,n)}},{key:"createStore",value:function(e,n){var r=n||e.displayName||e.name||"";J(this.config,e);var i=V(this.storeTransforms,e);!this.stores[r]&&r||(this.stores[r]?D("A store named ".concat(r," already exists, double check your store ")+"names or pass in your own custom identifier for each store"):D("Store name was not specified"),r=x(this.stores,r));for(var o=arguments.length,a=new Array(o>2?o-2:0),c=2;c<o;c++)a[c-2]=arguments[c];var s=d(i)?Z.apply(t,[this,i,r].concat(a)):Y(this,i,r);return this.stores[r]=s,m(this,r),s}},{key:"generateActions",value:function(){for(var t={name:"global"},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.createActions(n.reduce((function(t,e){return t[e]=C,t}),t))}},{key:"createAction",value:function(t,e,n){return q(this,"global",t,e,n)}},{key:"createActions",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},i=x(this._actionsRegistry,t.displayName||t.name||"Unknown");if(d(t)){b(r,E(t));for(var c=function(t){a(n,t);var e=G(n);function n(){f(this,n);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.call.apply(e,[this].concat(r))}return h(n,[{key:"generateActions",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach((function(t){r[t]=C}))}}]),n}(t),s=arguments.length,u=new Array(s>2?s-2:0),l=2;l<s;l++)u[l-2]=arguments[l];b(r,o(c,u))}else b(r,t);return this.actions[i]=this.actions[i]||{},v((function(t,r){if(d(r)){n[t]=q(e,i,t,r,n);var o=R(t);n[o]=n[t].id}else n[t]=r}),[r]),n}},{key:"takeSnapshot",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=w(this,e);return b(this._lastSnapshot,r),this.serialize(r)}},{key:"rollback",value:function(){g(this,this.serialize(this._lastSnapshot),(function(t){t.lifecycle("rollback"),t.emitChange()}))}},{key:"recycle",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.length?O(0,this._initSnapshot,e):this._initSnapshot;g(this,this.serialize(r),(function(t){t.lifecycle("init"),t.emitChange()}))}},{key:"flush",value:function(){var t=this.serialize(w(this));return this.recycle(),t}},{key:"bootstrap",value:function(t){g(this,t,(function(t,e){t.lifecycle("bootstrap",e),t.emitChange()}))}},{key:"prepare",value:function(t,e){var n={};if(!t.displayName)throw new ReferenceError("Store provided does not have a name");return n[t.displayName]=e,this.serialize(n)}},{key:"addActions",value:function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.actions[t]=Array.isArray(e)?this.generateActions.apply(this,e):this.createActions.apply(this,[e].concat(r))}},{key:"addStore",value:function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.createStore.apply(this,[e,t].concat(r))}},{key:"getActions",value:function(t){return this.actions[t]}},{key:"getStore",value:function(t){return this.stores[t]}}],[{key:"debug",value:function(t,e,n){var r="alt.js.org",i=n;return i||"undefined"==typeof window||(i=window),void 0!==i&&(i[r]=i[r]||[],i[r].push({name:t,alt:e})),e}}]),e}();const Q=K})(),r})()}));