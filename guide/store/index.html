<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Creating a Store</title>
  <meta name="description" content="A library for managing data within JavaScript applications. Alt is a pure flux implementation that is small, terse, well tested, extremely flexible, and forward thinking.
">

  <link rel="canonical" href="https://goatslacker.github.io/alt/guide/store/">
  <link rel="alternate" type="application/rss+xml" title="Alt" href="https://goatslacker.github.io/alt/feed.xml" />

  <link type="text/css" rel="stylesheet" href="/alt/assets/lotus.min.css" />
  <link type="text/css" rel="stylesheet" href="/alt/assets/prism.min.css" />
  <link type="text/css" rel="stylesheet" href="/alt/assets/styles.css" />
</head>


  <body>

    
<header class="sp-horiz-lg">
  <div class="row">
    <div class="col c2">
      <a href="/alt/"><img class="logo" src="/alt/assets/alt.png" alt="Alt" width="40" /></a>
    </div>
    <div class="col c10">
      <nav class="txt-light txt-right pure-menu pure-menu-horizontal">
        <ul class="pure-menu-list">
          <li class="pure-menu-item">
            <a href="/alt/guide/" class="pure-menu-link">Getting Started</a>
          </li>
          <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover">
            <a href="/alt/docs/" id="menuLink1" class="pure-menu-link">API Documentation</a>
            <ul class="pure-menu-children">
              
              <li class="pure-menu-item">
                <a href="/alt/docs/createActions" class="pure-menu-link">Creating Actions</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="/alt/docs/actions" class="pure-menu-link">Actions</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="/alt/docs/createStore" class="pure-menu-link">Creating Stores</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="/alt/docs/stores" class="pure-menu-link">Stores</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="/alt/docs/lifecycleListeners" class="pure-menu-link">Lifecycle Listeners</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="/alt/docs/bootstrap" class="pure-menu-link">Bootstrap</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="/alt/docs/takeSnapshot" class="pure-menu-link">Take Snapshot</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="/alt/docs/flush" class="pure-menu-link">Flush</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="/alt/docs/recycle" class="pure-menu-link">Recycle</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="/alt/docs/rollback" class="pure-menu-link">Rollback</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="/alt/docs/altInstances" class="pure-menu-link">Alt Instances</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="/alt/docs/components/altContainer" class="pure-menu-link">AltContainer</a>
              </li>
              
            </ul>
          </li>
          <li class="pure-menu-item">
            <a href="/alt/blog/">Blog</a>
          </li>
          <li class="pure-menu-item">
            <a href="https://gitter.im/goatslacker/alt">Support</a>
          </li>
          <li class="pure-menu-item">
            <a href="https://github.com/goatslacker/alt">GitHub</a>
          </li>
        </ul>
      </nav>
    </div>
  </div>
</header>


    <div class="main sp-vert-md sp-horiz-lg">
      <div class="row">
        <div class="col c2">
          <ul class="sidenav">
  
  <li>
    <a href="/alt/guide/">Getting Started</a>
  </li>
  
  <li>
    <a href="/alt/guide/actions/">Creating Actions</a>
  </li>
  
  <li>
    <a href="/alt/guide/store/">Creating a Store</a>
  </li>
  
  <li>
    <a href="/alt/guide/view/">Using your View</a>
  </li>
  
  <li>
    <a href="/alt/guide/async/">Fetching Data</a>
  </li>
  
  <li>
    <a href="/alt/guide/wait-for/">Data Dependencies</a>
  </li>
  
</ul>

        </div>
        <div class="col c10">
          <div class="sp-horiz-md">
            <h1 id="creating-a-store">Creating a Store</h1>

<p>The store is your data warehouse. This is the single source of truth for a particular piece of your application’s state. Similar to actions, we’ll be creating a class for the store. Also like the actions, the class syntax is completely optional, you can use regular constructors and prototypes.</p>

<pre><code class="language-js">class LocationStore {
  constructor() {
  }
}
</code></pre>

<p>Instance variables defined anywhere in the store will become the state. This resembles how we reason about and build normal JS classes. You can initiaize these in the constructor and then update them directly in the prototype methods.</p>

<pre><code class="language-js">this.locations = [];
</code></pre>

<p>Next, we define methods in the store’s prototype that will deal with the actions. These are called action handlers.<br />
Stores automatically emit a change event when an action is dispatched through the store and the action handler ends. In order to suppress the change event you can return false from the action handler.</p>

<pre><code class="language-js">handleUpdateLocations(locations) {
  this.locations = locations;
  // optionally return false to suppress the store change event
}
</code></pre>

<p>And then in the constructor, we bind our action handlers to our actions.</p>

<pre><code class="language-js">this.bindListeners({
  handleUpdateLocations: LocationActions.UPDATE_LOCATIONS
});
</code></pre>

<p>Finally, we export our newly created store.</p>

<pre><code class="language-js">module.exports = alt.createStore(LocationStore, 'LocationStore');
</code></pre>

<hr />

<p><code>stores/LocationStore.js</code></p>

<pre><code class="language-js">var alt = require('../alt');
var LocationActions = require('../actions/LocationActions');

class LocationStore {
  constructor() {
    this.locations = [];

    this.bindListeners({
      handleUpdateLocations: LocationActions.UPDATE_LOCATIONS
    });
  }

  handleUpdateLocations(locations) {
    this.locations = locations;
  }
}

module.exports = alt.createStore(LocationStore, 'LocationStore');
</code></pre>

<p><a href="/alt/guide/view">Continue to next step…</a></p>

          </div>
        </div>
      </div>
    </div>

    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/prism/0.0.1/prism.min.js"></script>
<script type="text/javascript">
  // Alias for javascript so syntax highlighting works fine
  Prism.languages.js = Prism.languages.javascript;
</script>
<footer class="sp-vert-md">
  <a href="https://www.npmjs.com/package/alt"><img src="https://img.shields.io/npm/v/alt.png?style=flat-square" alt="npm version" /></a>
  <a href="https://gitter.im/goatslacker/alt"><img src="https://img.shields.io/badge/gitter-join%20chat-ff7d29.svg?style=flat-square" alt="Gitter Chat" /></a>
</footer>


  </body>

</html>
