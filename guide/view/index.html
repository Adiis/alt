<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Using your View</title>
  <meta name="description" content="A library for managing data within JavaScript applications. Alt is a pure flux implementation that is small, terse, well tested, extremely flexible, and forward thinking.
">

  <link rel="canonical" href="https://goatslacker.github.io/alt/guide/view/">
  <link rel="alternate" type="application/rss+xml" title="Alt" href="https://goatslacker.github.io/alt/feed.xml" />

  <link type="text/css" rel="stylesheet" href="/alt/assets/lotus.min.css" />
  <link type="text/css" rel="stylesheet" href="/alt/assets/prism.min.css" />
  <link type="text/css" rel="stylesheet" href="/alt/assets/styles.css" />
</head>


  <body>

    
<header class="sp-horiz-lg">
  <div class="row">
    <div class="col c2">
      <a href="/alt/"><img class="logo" src="/alt/assets/alt.png" alt="Alt" width="40" /></a>
    </div>
    <div class="col c10">
      <nav class="txt-light txt-right pure-menu pure-menu-horizontal">
        <ul class="pure-menu-list">
          <li class="pure-menu-item">
            <a href="/alt/guide/" class="pure-menu-link">Getting Started</a>
          </li>
          <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover">
            <a href="/alt/docs/" id="menuLink1" class="pure-menu-link">API Documentation</a>
            <ul class="pure-menu-children">
              
              <li class="pure-menu-item">
                <a href="/alt/docs/createActions" class="pure-menu-link">Creating Actions</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="/alt/docs/actions" class="pure-menu-link">Actions</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="/alt/docs/createStore" class="pure-menu-link">Creating Stores</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="/alt/docs/stores" class="pure-menu-link">Stores</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="/alt/docs/lifecycleListeners" class="pure-menu-link">Lifecycle Listeners</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="/alt/docs/bootstrap" class="pure-menu-link">Bootstrap</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="/alt/docs/takeSnapshot" class="pure-menu-link">Take Snapshot</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="/alt/docs/flush" class="pure-menu-link">Flush</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="/alt/docs/recycle" class="pure-menu-link">Recycle</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="/alt/docs/rollback" class="pure-menu-link">Rollback</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="/alt/docs/altInstances" class="pure-menu-link">Alt Instances</a>
              </li>
              
              <li class="pure-menu-item">
                <a href="/alt/docs/components/altContainer" class="pure-menu-link">AltContainer</a>
              </li>
              
            </ul>
          </li>
          <li class="pure-menu-item">
            <a href="/alt/blog/">Blog</a>
          </li>
          <li class="pure-menu-item">
            <a href="https://gitter.im/goatslacker/alt">Support</a>
          </li>
          <li class="pure-menu-item">
            <a href="https://github.com/goatslacker/alt">GitHub</a>
          </li>
        </ul>
      </nav>
    </div>
  </div>
</header>


    <div class="main sp-vert-md sp-horiz-lg">
      <div class="row">
        <div class="col c2">
          <ul class="sidenav">
  
  <li>
    <a href="/alt/guide/">Getting Started</a>
  </li>
  
  <li>
    <a href="/alt/guide/actions/">Creating Actions</a>
  </li>
  
  <li>
    <a href="/alt/guide/store/">Creating a Store</a>
  </li>
  
  <li>
    <a href="/alt/guide/view/">Using your View</a>
  </li>
  
  <li>
    <a href="/alt/guide/async/">Fetching Data</a>
  </li>
  
  <li>
    <a href="/alt/guide/wait-for/">Data Dependencies</a>
  </li>
  
</ul>

        </div>
        <div class="col c10">
          <div class="sp-horiz-md">
            <h1 id="using-your-view">Using your View</h1>

<p>We won’t spend too much time on all the parts of the view since it is more about React than it is Alt, however, the important piece is how you listen to stores and get data out of it.</p>

<p>Getting the state out of your store is simple, every alt store has a method which returns its state. The state is copied over as a value when returned so you accidentally don’t mutate it by reference. We can use React’s <code>getInitialState</code> to set the initial state using the store’s state.</p>

<pre><code class="language-js">getInitialState() {
  return LocationStore.getState();
},
</code></pre>

<p>But then we’ll want to listen to changes once the state in the store is updated. In your react component on <code>componentDidMount</code> you can add an event handler using <code>LocationStore.listen</code>.</p>

<pre><code class="language-js">componentDidMount() {
  LocationStore.listen(this.onChange);
},
</code></pre>

<p>And, don’t forget to remove your event listener.</p>

<pre><code class="language-js">componentWillUnmount() {
  LocationStore.unlisten(this.onChange);
},
</code></pre>

<p>A few <a href="https://github.com/goatslacker/alt/tree/master/mixins">mixins</a> are available to make this boilerplate go away.</p>

<hr />

<p><code>components/Locations.jsx</code></p>

<pre><code class="language-js">var React = require('react');
var LocationStore = require('../stores/LocationStore');

var Locations = React.createClass({
  getInitialState() {
    return LocationStore.getState();
  },

  componentDidMount() {
    LocationStore.listen(this.onChange);
  },

  componentWillUnmount() {
    LocationStore.unlisten(this.onChange);
  },

  onChange(state) {
    this.setState(state);
  },

  render() {
    return (
      &lt;ul&gt;
        {this.state.locations.map((location) =&gt; {
          return (
            &lt;li&gt;{location.name}&lt;/li&gt;
          );
        })}
      &lt;/ul&gt;
    );
  }
});

module.exports = Locations;
</code></pre>

<p><a href="/alt/guide/async">Continue to next step…</a></p>

          </div>
        </div>
      </div>
    </div>

    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/prism/0.0.1/prism.min.js"></script>
<script type="text/javascript">
  // Alias for javascript so syntax highlighting works fine
  Prism.languages.js = Prism.languages.javascript;
</script>
<footer class="sp-vert-md">
  <a href="https://www.npmjs.com/package/alt"><img src="https://img.shields.io/npm/v/alt.png?style=flat-square" alt="npm version" /></a>
  <a href="https://gitter.im/goatslacker/alt"><img src="https://img.shields.io/badge/gitter-join%20chat-ff7d29.svg?style=flat-square" alt="Gitter Chat" /></a>
</footer>


  </body>

</html>
